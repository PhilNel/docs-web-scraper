
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://PhilNel.github.io/docs-web-scraper/features/html-parsing/">
      
      
        <link rel="prev" href="../html-fetching/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.13">
    
    
      
        <title>HTML Parsing - Web Scraper Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#html-parsing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Web Scraper Docs" class="md-header__button md-logo" aria-label="Web Scraper Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Web Scraper Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HTML Parsing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/PhilNel/docs-web-scraper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../architecture/overview/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../html-fetching/" class="md-tabs__link">
          
  
  
  Features

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Web Scraper Docs" class="md-nav__button md-logo" aria-label="Web Scraper Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Web Scraper Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PhilNel/docs-web-scraper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../html-fetching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTML Fetching
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    HTML Parsing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    HTML Parsing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perl-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Perl Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Go Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common" class="md-nav__link">
    <span class="md-ellipsis">
      Common
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Design Rationale
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Design Rationale">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-perl" class="md-nav__link">
    <span class="md-ellipsis">
      Why Perl?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-go" class="md-nav__link">
    <span class="md-ellipsis">
      Why Go?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-mojodom" class="md-nav__link">
    <span class="md-ellipsis">
      Why Mojo::DOM?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-goquery" class="md-nav__link">
    <span class="md-ellipsis">
      Why goquery?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-a-custom-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Why a custom runtime?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-paws-instead-of-amazons3-amazondynamodb" class="md-nav__link">
    <span class="md-ellipsis">
      Why Paws (instead of Amazon::S3 / Amazon::DynamoDB)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-flexibility" class="md-nav__link">
    <span class="md-ellipsis">
      Output Flexibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-site-support-and-dynamic-parser-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-site Support and Dynamic Parser Selection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Current Limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      Future Enhancements
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    <span class="md-ellipsis">
      Purpose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perl-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Perl Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Go Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common" class="md-nav__link">
    <span class="md-ellipsis">
      Common
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-rationale" class="md-nav__link">
    <span class="md-ellipsis">
      Design Rationale
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Design Rationale">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-perl" class="md-nav__link">
    <span class="md-ellipsis">
      Why Perl?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-go" class="md-nav__link">
    <span class="md-ellipsis">
      Why Go?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-mojodom" class="md-nav__link">
    <span class="md-ellipsis">
      Why Mojo::DOM?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-goquery" class="md-nav__link">
    <span class="md-ellipsis">
      Why goquery?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-a-custom-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Why a custom runtime?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-paws-instead-of-amazons3-amazondynamodb" class="md-nav__link">
    <span class="md-ellipsis">
      Why Paws (instead of Amazon::S3 / Amazon::DynamoDB)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-flexibility" class="md-nav__link">
    <span class="md-ellipsis">
      Output Flexibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-site-support-and-dynamic-parser-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-site Support and Dynamic Parser Selection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Current Limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      Future Enhancements
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="html-parsing">HTML Parsing<a class="headerlink" href="#html-parsing" title="Permanent link">&para;</a></h1>
<p>The HTML parsing phase extracts structured data from previously fetched and rendered HTML documents. It is implemented as a Perl-based Lambda function using a custom runtime and is designed to convert raw DOM content into job listings.</p>
<p>In addition to the Perl-based parser, a Go-based equivalent Lambda function was also developed. This was done with the intention of comparing development effort and performance between the two implementations.</p>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h2>
<p>After the fetcher Lambda stores raw HTML snapshots in S3, this phase consumes them and extracts job data (e.g. title, company, location, link). By isolating this responsibility, we can iterate on parsing logic independently of how the content is retrieved.</p>
<h2 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h2>
<h3 id="perl-lambda">Perl Lambda<a class="headerlink" href="#perl-lambda" title="Permanent link">&para;</a></h3>
<ul>
<li>Implemented as an AWS Lambda function using a <strong>custom runtime</strong></li>
<li>Deployed as a Docker container to support the custom Perl runtime and required dependencies</li>
<li>Uses <a href="https://metacpan.org/pod/Mojo::DOM"><code>Mojo::DOM</code></a> for HTML parsing</li>
</ul>
<h3 id="go-lambda">Go Lambda<a class="headerlink" href="#go-lambda" title="Permanent link">&para;</a></h3>
<ul>
<li>Implemented as an AWS Lambda function using the provided.al2 (Amazon Linux 2) runtime</li>
<li>Compiled as a statically-linked binary and packaged into a <code>.zip</code> for Lambda deployment</li>
<li>Uses <a href="https://github.com/PuerkitoBio/goquery"><code>PuerkitoBio/goquery</code></a> (jQuery-like syntax) for HTML parsing</li>
</ul>
<h3 id="common">Common<a class="headerlink" href="#common" title="Permanent link">&para;</a></h3>
<ul>
<li>Reads HTML files from S3 (<code>web-scraper-output</code>)</li>
<li>Outputs structured job listings to DynamoDB (<code>job-store</code>)</li>
</ul>
<h2 id="design-rationale">Design Rationale<a class="headerlink" href="#design-rationale" title="Permanent link">&para;</a></h2>
<h3 id="why-perl">Why Perl?<a class="headerlink" href="#why-perl" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Chosen as a learning objective: to understand modern Perl usage in backend contexts</li>
<li>✅ Enables experimentation with AWS Lambda’s <strong>custom runtime API</strong></li>
<li>✅ Perl offers mature regex and DOM parsing capabilities with minimal dependencies</li>
<li>❌ No official Lambda runtime support (requires custom lambda handler)</li>
</ul>
<h3 id="why-go">Why Go?<a class="headerlink" href="#why-go" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Familiarity with Go — The developer is more experienced with Go, allowing for faster iteration and debugging</li>
<li>✅ Performance comparison — Parsing performance and memory usage can be benchmarked between Perl and Go to determine optimal runtime characteristics</li>
<li>✅ Cross-language learning — Maintaining both versions showcases how different ecosystems approach clean architecture, HTML parsing, and AWS integration</li>
<li>❌ Duplication of effort since both implementations must be maintained</li>
</ul>
<h3 id="why-mojodom">Why Mojo::DOM?<a class="headerlink" href="#why-mojodom" title="Permanent link">&para;</a></h3>
<ul>
<li>Lightweight, pure-Perl HTML DOM parser</li>
<li>Supports CSS selectors, text extraction, and attribute traversal</li>
</ul>
<h3 id="why-goquery">Why goquery?<a class="headerlink" href="#why-goquery" title="Permanent link">&para;</a></h3>
<ul>
<li>Lightweight and easy to use Go HTML parser</li>
<li>Built on top of the Go standard library’s HTML tokenizer, ensuring performance and reliability</li>
<li>Widely used and well-documented</li>
</ul>
<h3 id="why-a-custom-runtime">Why a custom runtime?<a class="headerlink" href="#why-a-custom-runtime" title="Permanent link">&para;</a></h3>
<ul>
<li>AWS does not natively support Perl as a Lambda runtime</li>
<li>To understand the lambda runtime for future unsupported runtimes</li>
</ul>
<h3 id="why-paws-instead-of-amazons3-amazondynamodb">Why Paws (instead of Amazon::S3 / Amazon::DynamoDB)?<a class="headerlink" href="#why-paws-instead-of-amazons3-amazondynamodb" title="Permanent link">&para;</a></h3>
<p>We initially chose Amazon::S3 and Amazon::DynamoDB for their minimal dependency footprint and quick setup. However, we've now migrated to <a href="https://metacpan.org/pod/Paws">Paws</a>, the official Perl AWS SDK, for the following reasons:</p>
<ul>
<li>✅ Supports temporary credentials, which are required for execution in AWS Lambda environments (unlike Amazon::DynamoDB, which lacks this support)</li>
<li>✅ Unified SDK for multiple AWS services, simplifying future integrations</li>
<li>✅ More consistent and complete API coverage for AWS services</li>
</ul>
<p>The disadvantages of this decision are as listed below:</p>
<ul>
<li>⚠️ Larger Docker image size, as Paws introduces more dependencies</li>
<li>⚠️ Slower CI builds, especially for linting and unit tests</li>
</ul>
<p>However, with AWS Lambda now supporting larger deployment packages (up to 10 GB with container images), the increased size is an acceptable trade-off for improved functionality and long-term maintainability.</p>
<h3 id="output-flexibility">Output Flexibility<a class="headerlink" href="#output-flexibility" title="Permanent link">&para;</a></h3>
<p>The parser-lambdas support pluggable "sink" implementations to handle different output targets:</p>
<ul>
<li>✅ DynamoDB — Currently supported. Parsed job listings are stored as structured records for easy querying and downstream consumption.</li>
<li>✅ Console output — A minimal sink used for debugging and local development.</li>
<li>🟡 S3 support — Planned. This would allow raw or structured job data to be archived in object storage (e.g., as newline-delimited JSON).</li>
</ul>
<p>This design enables new sinks (e.g., for S3 or external APIs) to be added without modifying parser internals.</p>
<h3 id="multi-site-support-and-dynamic-parser-selection">Multi-site Support and Dynamic Parser Selection<a class="headerlink" href="#multi-site-support-and-dynamic-parser-selection" title="Permanent link">&para;</a></h3>
<p>The parsing Lambda supports multiple job listing websites through simple S3 key naming convention.</p>
<p>Each HTML file uploaded by the fetcher Lambda is stored in S3 with a prefix that corresponds to the source company as follows:</p>
<div class="codehilite"><pre><span></span><code>s3://web-scraper-output-dev-af-south-1/
├──<span class="w"> </span>duckduckgo/
│<span class="w">   </span>└──<span class="w"> </span>rendered.html
├──<span class="w"> </span>posthog/
│<span class="w">   </span>└──<span class="w"> </span>rendered.html
</code></pre></div>

<p>When the parser Lambda is invoked via an EventBridge notification from S3, it receives the object key (e.g. <code>duckduckgo/rendered.html</code>) in the event payload. </p>
<p>The handler extracts the first path segment of the S3 key (in this case, <code>duckduckgo</code>) to:</p>
<ul>
<li>Identify which company the job listings belong to</li>
<li>Instantiate the appropriate parser implementation for that site's HTML structure</li>
</ul>
<p>This allows the system to support additional job listing websites by:</p>
<ul>
<li>Updating the fetcher config to include the new site's URL</li>
<li>Implementing a new parser module that conforms to the parser interface</li>
<li>Registering the new parser in the parser factory</li>
</ul>
<h2 id="current-limitations">Current Limitations<a class="headerlink" href="#current-limitations" title="Permanent link">&para;</a></h2>
<ul>
<li>Assumes all HTML files are consistent in structure</li>
<li>Minimal error handling for broken or malformed HTML</li>
</ul>
<h2 id="future-enhancements">Future Enhancements<a class="headerlink" href="#future-enhancements" title="Permanent link">&para;</a></h2>
<ul>
<li>Extract the custom runtime implementation into a reusable CPAN module for use in other Perl-based Lambdas</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>